<!doctype html><html lang=pl><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><title>Concourse is Awesome | EngineerBetter | More than Cloud Platform specialists</title><link rel=stylesheet href="/css/main.css?v=4"><link rel=stylesheet href=/css/syntax.css><link rel=icon type=image/png href=/img/favicon.png><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-74442484-1","auto"),ga("send","pageview")</script><script src=//load.sumome.com/ data-sumo-site-id=7c63408cd1c29faa63d20123ff629d524df6674695e4305a0e602f2bbf431038 async></script>
<script type=text/javascript>var _iub=_iub||[];_iub.csConfiguration={banner:{textColor:"#dadada",backgroundColor:"#5A5A5A"},lang:"en",siteId:939573,cookiePolicyId:8251825}</script><script type=text/javascript src=//cdn.iubenda.com/cookie_solution/safemode/iubenda_cs.js async></script></head><body><section id=menu-nav-top class="menu fixed-menu clearfix"><div class=menu_contact><p class=menu_contact-number>+44 (0) 20 7846 0140</p><a href=mailto:contact@engineerbetter.com class=menu_contact-us>Contact us</a></div><div class="menu_header clearfix"><button class=menu_header-button>
<span class="icon-bar top-bar"></span>
<span class="icon-bar middle-bar"></span>
<span class="icon-bar bottom-bar"></span></button>
<a href=/ class=menu_header-logo><img class=logo-header-img alt=Brand src=/img/engineer-better-logo.svg></a></div></section><div class=menu_list><button class=menu_list-close><p>&#x2716;</p></button><div class=menu_list-inner-wrap><p class=menu_list-phone>+44 (0) 20 7846 0140</p><a class=menu_list-contact-btn href=mailto:contact@engineerbetter.com>Contact us&nbsp;<span>&#xe900;</span></a><ul class=menu_list-links><li><a href=/how-we-work/>How we work</a></li><li><a href=/our-services/>Our services</a></li><li><a href=/success-stories/>Success stories</a></li><li><a href=/why-cloud-native/>why cloud-native?</a></li><li><a href=/about-us/>About us</a></li><li><a href=/blog/>Blog</a></li></ul><div class=menu_list-icons><a href=https://twitter.com/EngineerBetter><img src=/img/twitter.svg alt="Twitter profile"></a>
<a href=https://github.com/EngineerBetter><img src=/img/github.svg alt="Github profile"></a></div><div class=menu_list-bot-menu><a href=/blog/>Blog</a><span>|</span><a href=/join-our-team/>Careers</a><span>|</span><a href=//www.iubenda.com/privacy-policy/8251825 class="iubenda-nostyle no-brand iubenda-embed" title="Privacy Policy">Privacy</a><script type=text/javascript>(function(e,t){var n=function(){var e=t.createElement("script"),n=t.getElementsByTagName("script")[0];e.src="//cdn.iubenda.com/iubenda.js",n.parentNode.insertBefore(e,n)};e.addEventListener?e.addEventListener("load",n,!1):e.attachEvent?e.attachEvent("onload",n):e.onload=n})(window,document)</script></div></div></div><section class="menu-banner-top_wrap parallax is-page"><div class=menu-banner-top><div class=menu-banner-top_contact><a class=menu-banner-top_number href="tel:+44 (0) 20 7846 0140">+44 (0) 20 7846 0140</a>
<a class=menu-banner-top_contact-us href=mailto:contact@engineerbetter.com>Contact us</a></div><div class=menu-banner-top_btn-wrap><button class=menu_header-button>
<span class="icon-bar top-bar"></span>
<span class="icon-bar middle-bar"></span>
<span class="icon-bar bottom-bar"></span></button></div><div class="menu-banner-top_logo clearfix"><a href=/ class=home-banner_logo-img><img class=logo-img alt=Brand src=/img/engineer-better-logo.svg></a></div></div><div class=home-banner><div class="home-banner_list clearfix"><div class=home-banner_list-category><ul><li><a href=ileri.com/how-we-work/>How we work</a></li><li><a href=ileri.com/our-services/>Our services</a></li><li><a href=ileri.com/success-stories/>Success Stories</a></li><li><a href=ileri.com/why-cloud-native/>Why Cloud-Native?</a></li><li><a href=ileri.com/about-us/>About us</a></li><li><a href=ileri.com/blog/>Blog</a></li></ul></div><div class=home-banner_textarea><h1 class=home-banner_textarea-header>Our <strong>blog&nbsp;<span>&#xe900;</span></strong></h1><div class=home-banner_textarea-wrap><p class=home-banner_textarea-description>Get the very latest updates about recent projects, team updates, thoughts and industry news from our team of EngineerBetter experts.</p></div></div></div></div></section><section class=blog-page><div class=blog-page_container><h1>Concourse is Awesome</h1><p class=blog-page_details>Mar 3, 2021<span>|</span> Daniel Jones</p><div class=blog-page_image><img src=/img/blog/buzzed-butler.png></div><p><a href=https://concourse-ci.org>Concourse</a> is a <em>continuous thing do-er</em> that happens to be rather good at CI/CD for big, complicated systems. At EngineerBetter we&rsquo;re rather fond of it, and we wanted to explain why.</p><h2 id=concourse-is-pro-cicd>Concourse is &lsquo;Pro&rsquo; CI/CD</h2><p>Concourse is great for integrating lots of things, checking that they work together, and then progressing to something else like a release or promotion job. It has great fan-out, fan-in semantics.</p><p>Many folks have created Concourse-based &lsquo;CI-as-a-Service&rsquo; solutions at their organisations, building pipelined solutions so that app teams don&rsquo;t need to worry about writing their own. This pattern is particularly popular at regulated enterprises, who need to ensure that the path to production is secure.</p><p>We even worked with one customer who offered &lsquo;CI-as-a-Service&rsquo; to their platform - external collaborators didn&rsquo;t ship plugins, they provided Git repos and the platform ingested third-party code via Concourse pipelines.</p><p>Concourse is great for big, complex, important things. Y&rsquo;know, like the massive Kubernetes platforms and microservice architectures that everyone&rsquo;s building these days.</p><p>The following <strong><em>enormous</em></strong> pipeline is that of RabbitMQ. It&rsquo;s so big that I need to tell you that the post continues after it. It&rsquo;s kinda like the opening scene of Star Wars.</p><p>So, why do people choose Concourse for big, important projects?</p><h3 id=containerised>Containerised</h3><p>Everything runs in containers. Everything. Without exception.</p><p>There is no way that your builds can fail due to a polluted workspace, or environment variables bleeding from one job to another (I&rsquo;m looking at you, Jenkins).</p><h3 id=pipelines>Pipelines</h3><p>The primary unit of Concourse is the <a href=https://concourse-ci.org/pipelines.html>pipeline</a>. It was built around pipelines from the very beginning, and so doesn&rsquo;t have &rsquo;tacked on&rsquo; pipeline support like some legacy CI/CD servers (I&rsquo;m looking at you again, Jenkins).</p><p>As we&rsquo;ll see below, Concourse has an internal event-driven model. Pipelines make sense of the ordering of events and the dependencies between them, creating a human-intelligible view of what&rsquo;s <em>actually</em> going to happen. There are enough constraints in the event-driven model to avoid emergent behaviour.</p><h3 id=resources-event-driven>Resources: Event-driven</h3><p>Concourse models the world in <a href=https://concourse-ci.org/resources.html>resources</a>.</p><p>Resources represent things in the outside world that can change. Those changes must have a way of uniquely identifying themselves, so that Concourse can tell if a version is new. Pipeline authors will likely configure that any new versions should trigger a set of jobs, like testing and deployment.</p><p>Resources mean that as an engineer, I don&rsquo;t have to write my own code to work out if an object in an S3 bucket is new.</p><h3 id=resources-functional>Resources: Functional</h3><p>Because resources encapsulate interactions with outside world, it becomes much easier to write functional (in the mathematical sense) pipelines - provide the same inputs, get the same outputs, with no side-effects.</p><p>Providing you don&rsquo;t purposefully add side-effects into your <a href=https://concourse-ci.org/jobs.html>jobs</a>, you can re-run the same job multiple times with complete confidence. Everything that goes into your pipeline came via a resource, which enforces that it is versioned.</p><p>You can also execute <a href=https://concourse-ci.org/tasks.html>tasks (steps within a job)</a> in isolation, knowing that you won&rsquo;t break anything. Which brings us on to&mldr;</p><h3 id=executing-tasks-using-local-inputs>Executing Tasks using Local Inputs</h3><p>The <code>fly execute</code> command allows you to run tasks <em>on</em> the Concourse workers, using either resources from the outside world, or local copies.</p><p>Want to run the system tests for your local changes, without pulling down a bazillion test credentials? Don&rsquo;t want to do a &lsquo;speculative commit and push&rsquo; just so you can see if you changes would pass CI? Run <code>fly execute</code> and use your local, uncommitted copy of the code.</p><p>It&rsquo;s not just EngineerBetter that think that <code>fly execute</code> is ace - Principal Software Engineer at Sky <a href=https://medium.com/@andrew_merrell/concourses-fly-execute-is-a-hidden-gem-5f4b54ffb249>Andrew Merrell wrote a post singing its praises</a> too.</p><h3 id=easy-access-to-failed-tasks>Easy Access to Failed Tasks</h3><p>Concourse offers the <a href=https://concourse-ci.org/builds.html#fly-intercept><code>fly intercept</code> command to get you a terminal session directly into the container</a> for a build, so you can debug it easily. You can even copy and paste the URL from the web UI into the terminal, so you don&rsquo;t need to type out build numbers.</p><p>No faffing about with <code>kubectl</code> here.</p><h3 id=declarative-config-all-the-time>Declarative Config, All The Time</h3><p>Concourse pipelines are defined in code, meaning that, unless you&rsquo;re a deranged loon, all changes will be version-controlled.</p><p>Concourse simply doesn&rsquo;t allow you to make behavioural changes through the UI (with the exception of triggers/pausing things, and pinning old versions of resources). You don&rsquo;t need to worry about colleagues re-configuring jobs in some UI without an audit trail.</p><p>You can also do some cool stuff with pipeline-generation:</p><ul><li><a href=https://medium.com/@andrew_merrell/automating-pipeline-creation-on-concourse-6205b0a92724>More from Andrew Merrell at Sky on creating pipelines dynamically</a></li><li><a href=https://github.com/SAP/pipeline-dsl>SAP&rsquo;s Python pipeline DSL</a></li><li><a href=https://github.com/springernature/halfpipe>SpringerNature&rsquo;s Halfpipe</a></li><li><a href=https://github.com/jhmcstanton/rudder/>A Ruby DSL</a></li></ul><h3 id=images-not-plugins>Images, Not Plugins</h3><p>Concourse doesn&rsquo;t have plug-ins. Resources are shipped as container images, and tasks can specify their own image to run in. That&rsquo;s it.</p><p>No asking the CI admin to install a plugin for you. No waking up to find that Jenkins has automatically updated its plugins overnight, and introduced a breaking change. No plugins that depend on plugins that depend on plugins.</p><p>Your pipelines are utterly portable - as long as those images are publicly available, your pipeline can run anywhere.</p><h3 id=no-lock-in>No Lock-in</h3><p>The only part of your CI/CD process that is tied to Concourse is the pipeline. There are no proprietary plugins or bits of behaviour that lock you in.</p><p>Resources are three executables in a container image, and the executables for custom tasks either come from your own code (eg scripts in a Got repo) or are in the container images you specify. If you want to take these buildings blocks to another system, there&rsquo;s nothing stopping you.</p><h3 id=postgres>Postgres</h3><p>Yep, Concourse is backed by a relational database. That means that it can hold thousands if not millions of build histories without falling over. The data layer of Concourse will scale better than solutions relying on etcd for persistence, such as Argo.</p><h3 id=not-just-for-kubernetes>Not Just For Kubernetes</h3><p>Concourse runs anywhere. It is <a href=https://github.com/concourse/concourse/releases/latest>shipped as a single binary</a> for each platform (including Windows!), as well as container images. There&rsquo;s an <a href=https://github.com/concourse/concourse-chart>official Helm chart for Kubernauts</a>, but Concourse doesn&rsquo;t force you to use Kubernetes, nor does it assume that everything you want to do is in Kubernetes.</p><p>There are plenty of good reasons to run CI/CD outside of Kubernetes. For instance, how do you pipeline the provisioning of your Kubernetes clusters in the first place? What if you&rsquo;re in an enterprise without access to a Kubernetes cluster? What if your pipeline is responsible for bootstrapping entire environments?</p><h3 id=cloud-native-deployment>Cloud Native: Deployment</h3><p>Concourse itself is configured entirely via environment variables or startup flags. There are no manual procedures or configuration processes.</p><p>All Concourse components execute from the same, single native binary. No JVMs, no pre-requisites, just execute the binary.</p><h3 id=cloud-native-bring-your-own-worker>Cloud Native: Bring Your Own Worker</h3><p>Concourse workers are the machines that perform the, err, workloads. They register with the central scheduler, not the other way &lsquo;round, and communicate securely via SSH tunnels.</p><p>Because workers add themselves to a cluster, this makes them easy to horizontally autoscale.</p><h3 id=visualising-the-value-stream>Visualising the Value Stream</h3><p>Because Concourse is pipeline-driven, and because it&rsquo;s good at integrating many assets, it&rsquo;s a great way of visualising <em>everything that goes into your product</em>.</p><h3 id=inverse-conways-law>Inverse Conway&rsquo;s Law</h3><p>By testing, integrating and deploying many things in a single pipeline, we can drive collaboration and a DevOps mindset.</p><p>EngineerBetter have worked with customers to form cross-functional teams, owning deployment of complex SaaS products end-to-end. For one customer in particular, this was the first time the entire value stream of the product had been codified. For the very first time there was an unambiguous, executable, reproducible path to production that was under version control.</p><h2 id=background-images>Background Images</h2><p>How could you not love this happy Beluga?</p><h3 id=who-shouldnt-use-concourse>Who Shouldn&rsquo;t Use Concourse?</h3><p>You shouldn&rsquo;t use Concourse if you:</p><ul><li>are doing things in isolation (like a single app), that aren&rsquo;t really pipelines</li><li>prefer GUIs to CI-as-code</li><li>want to execute unreproducible builds (I&rsquo;m looking at you again Jenkins, and the <a href=https://plugins.jenkins.io/build-with-parameters/>Build Parameters plugin</a>)</li><li>aren&rsquo;t able to create or use container images</li></ul><p>If you use PR-based workflows, Concourse can handle that, and <a href=https://github.com/concourse/concourse#the-road-to-concourse-v10>there are future improvements to the UX</a> to make it easier.</p><h2 id=how-can-i-find-out-more>How Can I Find Out More?</h2><p>EngineerBetter will be making a few things in the near future to make Concourse easier to try out. In the mean time, you should check out the official <a href=https://concourse-ci.org/quick-start.html>Concourse Quick Start</a> which uses Docker Compose, or the <a href=https://github.com/concourse/concourse-chart>Concourse Helm Chart</a>.</p><p>You could also <a href=https://docs.beluga.engineerbetter.com/beluga/>register your interest for EngineerBetter&rsquo;s hosted Concourse offering</a>, currently in private beta.</p></div><div class="blog-page_banner clearfix"><div class=blog_banner-text><h2>Get in touch</h2><p>See how much we can help you.<br>Call <span>+44 (0) 20 7846 0140</span> or</br></p><a href=mailto:contact@engineerbetter.com class=cloud-btn2><p>Contact us <span>&#xe900;</span></p></a></div></div></section><footer><div class=footer-background></div><div class="footer_wrap clearfix"><div class=footer_column-list-desktop><ul class=list><li><a href=/how-we-work/><span>&mdash;</span> How we work</a></li><li><a href=/our-services/><span>&mdash;</span> Our services</a></li><li><a href=/success-stories/><span>&mdash;</span> Success stories</a></li><li><a href=/why-cloud-native/><span>&mdash;</span> Why Cloud-Native?</a></li><li><a href=/about-us/><span>&mdash;</span> About us</a></li></ul></div><div class=footer_column-list><ul class=list><li><a href=mailto:contact@engineerbetter.com><span>&mdash;</span> Contact us</a></li><li><a href=/blog/><span>&mdash;</span> Blog</a></li><li><a href=/join-our-team/><span>&mdash;</span> Join our team</a></li><li><a href=//www.iubenda.com/privacy-policy/8251825 class="iubenda-nostyle no-brand iubenda-embed" title="Privacy Policy"><span>&mdash;</span> Privacy Policy</a><script type=text/javascript>(function(e,t){var n=function(){var e=t.createElement("script"),n=t.getElementsByTagName("script")[0];e.src="//cdn.iubenda.com/iubenda.js",n.parentNode.insertBefore(e,n)};e.addEventListener?e.addEventListener("load",n,!1):e.attachEvent?e.attachEvent("onload",n):e.onload=n})(window,document)</script></li></ul></div><div class=footer_column-icon-wrap><a href=https://twitter.com/EngineerBetter class=footer_column-icon><img class=footer_column-icon-img alt=Brand src=/img/icon-twitter.png></a>
<a href=https://github.com/EngineerBetter class=footer_column-icon><img class=footer_column-icon-img alt=Brand src=/img/icon-git-hub.png></a></div><div class=footer_column-text><p>&copy; Copyright EngineerBetter Ltd</p><p>Registered England & Wales 10141478</p></div></div></footer><script src="/js/jquery-1.11.3.min.js?v=4"></script>
<script src=/js/site.js></script></body></html>