<!doctype html><html lang=pl><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><title>CI Shootout: Re-use and build monitors | EngineerBetter | More than Cloud Platform specialists</title><link rel=stylesheet href="/css/main.css?v=4"><link rel=stylesheet href=/css/syntax.css><link rel=icon type=image/png href=/img/favicon.png><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-74442484-1","auto"),ga("send","pageview")</script><script src=//load.sumome.com/ data-sumo-site-id=7c63408cd1c29faa63d20123ff629d524df6674695e4305a0e602f2bbf431038 async></script>
<script type=text/javascript>var _iub=_iub||[];_iub.csConfiguration={banner:{textColor:"#dadada",backgroundColor:"#5A5A5A"},lang:"en",siteId:939573,cookiePolicyId:8251825}</script><script type=text/javascript src=//cdn.iubenda.com/cookie_solution/safemode/iubenda_cs.js async></script></head><body><section id=menu-nav-top class="menu fixed-menu clearfix"><div class=menu_contact><p class=menu_contact-number>+44 (0) 20 7846 0140</p><a href=mailto:contact@engineerbetter.com class=menu_contact-us>Contact us</a></div><div class="menu_header clearfix"><button class=menu_header-button>
<span class="icon-bar top-bar"></span>
<span class="icon-bar middle-bar"></span>
<span class="icon-bar bottom-bar"></span></button>
<a href=/ class=menu_header-logo><img class=logo-header-img alt=Brand src=/img/engineer-better-logo.svg></a></div></section><div class=menu_list><button class=menu_list-close><p>&#x2716;</p></button><div class=menu_list-inner-wrap><p class=menu_list-phone>+44 (0) 20 7846 0140</p><a class=menu_list-contact-btn href=mailto:contact@engineerbetter.com>Contact us&nbsp;<span>&#xe900;</span></a><ul class=menu_list-links><li><a href=/how-we-work/>How we work</a></li><li><a href=/our-services/>Our services</a></li><li><a href=/success-stories/>Success stories</a></li><li><a href=/why-cloud-native/>why cloud-native?</a></li><li><a href=/about-us/>About us</a></li><li><a href=/blog/>Blog</a></li></ul><div class=menu_list-icons><a href=https://twitter.com/EngineerBetter><img src=/img/twitter.svg alt="Twitter profile"></a>
<a href=https://github.com/EngineerBetter><img src=/img/github.svg alt="Github profile"></a></div><div class=menu_list-bot-menu><a href=/blog/>Blog</a><span>|</span><a href=/join-our-team/>Careers</a><span>|</span><a href=//www.iubenda.com/privacy-policy/8251825 class="iubenda-nostyle no-brand iubenda-embed" title="Privacy Policy">Privacy</a><script type=text/javascript>(function(e,t){var n=function(){var e=t.createElement("script"),n=t.getElementsByTagName("script")[0];e.src="//cdn.iubenda.com/iubenda.js",n.parentNode.insertBefore(e,n)};e.addEventListener?e.addEventListener("load",n,!1):e.attachEvent?e.attachEvent("onload",n):e.onload=n})(window,document)</script></div></div></div><section class="menu-banner-top_wrap parallax is-page"><div class=menu-banner-top><div class=menu-banner-top_contact><a class=menu-banner-top_number href="tel:+44 (0) 20 7846 0140">+44 (0) 20 7846 0140</a>
<a class=menu-banner-top_contact-us href=mailto:contact@engineerbetter.com>Contact us</a></div><div class=menu-banner-top_btn-wrap><button class=menu_header-button>
<span class="icon-bar top-bar"></span>
<span class="icon-bar middle-bar"></span>
<span class="icon-bar bottom-bar"></span></button></div><div class="menu-banner-top_logo clearfix"><a href=/ class=home-banner_logo-img><img class=logo-img alt=Brand src=/img/engineer-better-logo.svg></a></div></div><div class=home-banner><div class="home-banner_list clearfix"><div class=home-banner_list-category><ul><li><a href=ileri.com/how-we-work/>How we work</a></li><li><a href=ileri.com/our-services/>Our services</a></li><li><a href=ileri.com/success-stories/>Success Stories</a></li><li><a href=ileri.com/why-cloud-native/>Why Cloud-Native?</a></li><li><a href=ileri.com/about-us/>About us</a></li><li><a href=ileri.com/blog/>Blog</a></li></ul></div><div class=home-banner_textarea><h1 class=home-banner_textarea-header>Our <strong>blog&nbsp;<span>&#xe900;</span></strong></h1><div class=home-banner_textarea-wrap><p class=home-banner_textarea-description>Get the very latest updates about recent projects, team updates, thoughts and industry news from our team of EngineerBetter experts.</p></div></div></div></div></section><section class=blog-page><div class=blog-page_container><h1>CI Shootout: Re-use and build monitors</h1><p class=blog-page_details>Oct 28, 2021<span>|</span> Tom Godkin</p><div class=blog-page_image><img src=/img/blog/shootout-third-person.jpg></div><p>In <a href=/blog/ci-shootout-inputs-and-outputs>the previous blog</a> we compared the act of reading state from, and writing state to, the outside world with four self-hosted CI systems: Jenkins, Concourse, Tekton & Argo Workflows. In this post we continue by looking at the re-usability of pipeline resources, and how well each serves as a build monitor.</p><ul><li><a href=/blog/ci-shootout-getting-started><em>First post</em></a> - 1. <strong>Install</strong> and configure the CI system</li><li><a href=/blog/ci-shootout-getting-started><em>First post</em></a> - 2. <strong>Run</strong> a &ldquo;Hello, World&rdquo; task</li><li><a href=/blog/ci-shootout-inputs-and-outputs><em>Second post</em></a> - 3. <strong>Trigger</strong> pipeline runs when external resources (eg Git repos, S3 buckets) change</li><li><a href=/blog/ci-shootout-inputs-and-outputs><em>Second post</em></a> - 4. Use <strong>inputs and outputs to tasks</strong></li><li><a href=/blog/ci-shootout-inputs-and-outputs><em>Second post</em></a> - 5. Write <strong>outputs externally</strong> (like making a Git commit or pushing a file to S3)</li><li><em>This post</em> - 6. <a href=#6-composability-of-tasks><strong>Re-use</strong> pipeline configuration</a></li><li><em>This post</em> - 7. <a href=#7-using-the-ci-system-as-a-build-monitor>Use the CI system as a <strong>build monitor</strong></a></li><li><a href=/blog/ci-shootout-conclusion><em>Final post</em></a> - 8. Conclusion</li></ul><h2 id=6-composability-of-tasks>6. Composability of tasks</h2><p>We&rsquo;ll evaluate how much of what we&rsquo;ve written is re-usable by ourselves and others, and how easy it is to discover the work of others to avoid re-inventing the wheel.</p><h3 id=jenkins---good>Jenkins - <em>Good</em></h3><p>Jenkins&rsquo; reusability comes from plugins, for which there is <a href=https://plugins.jenkins.io/>a repository</a> that you can browse through. Given Jenkins&rsquo; age it&rsquo;s not surprising that there&rsquo;s a vast array of plugins (~1,800 community plugins at the time of writing) and we&rsquo;ve already used a few: <a href=https://plugins.jenkins.io/git/>the Git plugin</a> for pushing commits, and <a href=https://plugins.jenkins.io/blueocean/>Blue Ocean</a> which we&rsquo;ll mention later in this post.</p><p>Jenkins plugins were traditionally installed by pointing and clicking through the Jenkins UI. More recently it become possible to install them via the Helm chart that we used to deploy our Jenkins. It feels a little strange that installing a plugin requires a whole <code>helm install</code>.</p><p>Once installed, Jenkins plugins can offer new options in the UI when creating pipelines or new blocks for use in the various pipeline syntax, such as the Git plugin&rsquo;s <code>withCredentials</code> extension.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-groovy data-lang=groovy><span class=line><span class=cl><span class=n>withCredentials</span><span class=o>([</span><span class=n>gitUsernamePassword</span><span class=o>(</span>
</span></span><span class=line><span class=cl>  <span class=nl>credentialsId:</span> <span class=s1>&#39;my-credentials-id&#39;</span><span class=o>,</span>
</span></span><span class=line><span class=cl>  <span class=nl>gitToolName:</span> <span class=s1>&#39;git-tool&#39;</span>
</span></span><span class=line><span class=cl><span class=o>)])</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>sh</span> <span class=s1>&#39;git fetch --all&#39;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>If you need to implement your own custom, reusable logic, Jenkins declarative pipelines support sprinkling in Groovy functions that can be referenced in several places.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-groovy data-lang=groovy><span class=line><span class=cl><span class=kt>def</span> <span class=n>hello</span> <span class=o>=</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=n>sh</span> <span class=s2>&#34;echo hello&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>pipeline</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=o>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>stages</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>stage</span><span class=o>(</span><span class=s2>&#34;Hello&#34;</span><span class=o>){</span>
</span></span><span class=line><span class=cl>      <span class=n>steps</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>script</span> <span class=o>{</span> <span class=n>hello</span><span class=o>()</span> <span class=o>}</span>
</span></span><span class=line><span class=cl>      <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p> </p><h3 id=concourse---good>Concourse - <em>Good</em></h3><p>Concourse has two ways to re-use the work of others: <a href=https://concourse-ci.org/resource-types.html>resource types</a> and <a href=https://concourse-ci.org/tasks.html>tasks</a>.</p><p>Resource types are the definition of the resources we&rsquo;ve already encountered in previous posts. Resources that we&rsquo;re already familiar with, such as the Git resource, have a corresponding resource type and is made available by Concourse by default.</p><p>Including another resource type in our pipeline is trivial - as in the below Terraform example, a short YAML stanza is all that is needed. This references an image in a container registry that implements the Concourse resource contract.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>resource_types</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>terraform</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>docker-image</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>source</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>repository</span><span class=p>:</span><span class=w> </span><span class=l>ljfranklin/terraform-resource</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=l>latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>resources</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>terraform</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>terraform</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>source</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>env_name</span><span class=p>:</span><span class=w> </span><span class=l>staging</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>backend_type</span><span class=p>:</span><span class=w> </span><span class=l>s3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>backend_config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>bucket</span><span class=p>:</span><span class=w> </span><span class=l>mybucket</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=l>mydir/terraform.tfstate</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>region</span><span class=p>:</span><span class=w> </span><span class=l>us-east-1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>access_key</span><span class=p>:</span><span class=w> </span><span class=l>((storage_access_key))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>secret_key</span><span class=p>:</span><span class=w> </span><span class=l>((storage_secret_key))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>vars</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>tag_name</span><span class=p>:</span><span class=w> </span><span class=l>concourse</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>AWS_ACCESS_KEY_ID</span><span class=p>:</span><span class=w> </span><span class=l>((environment_access_key))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>AWS_SECRET_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>((environment_secret_key))</span><span class=w>
</span></span></span></code></pre></div><p>Tasks are definitions for executable units of a Concourse job that optionally receive inputs and produce outputs. Tasks can be defined in the pipeline YAML, or as external files that must be available when the job runs (eg in a Git repo that features as a <code>get</code> step in the job).</p><p>To reference an &rsquo;external&rsquo; task configuration YAML, a <code>task</code> step is added to a job with a <code>file</code> entry pointing to where Concourse will find the YAML at runtime. This YAML in turn defines features of the task, such as the container image to be used, the executable to be invoked, and any environment variables that should be available.</p><p>Tasks definitions can be parameterised in two ways:</p><ul><li><code>vars</code> which are provided for <code>((placeholders))</code> in the task configuration. These can be provided explicitly in the job&rsquo;s <code>vars</code> block, when the pipeline is set, or looked up in a secret manager such as Hashicorp Vault.</li><li><code>params</code> are environment variables provided when the task&rsquo;s executable is invoked. These can be set either in the task configuration or in the containing pipeline. For even more head-melting flexibility, you can use the templated variables described above <em>as</em> params!</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class=l>linux</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>inputs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>iac-example-concourse</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>run</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>bash</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>args</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- -<span class=l>euo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>pipefail</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- -<span class=l>c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    cd iac-example-concourse
</span></span></span><span class=line><span class=cl><span class=sd>    make ((target))</span><span class=w>    
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>serial</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>plan</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>get</span><span class=p>:</span><span class=w> </span><span class=l>iac-example-concourse</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>trigger</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>task</span><span class=p>:</span><span class=w> </span><span class=l>build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>file</span><span class=p>:</span><span class=w> </span><span class=l>task-make.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>vars</span><span class=p>:</span><span class=w> </span>{<span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=l>build}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>task</span><span class=p>:</span><span class=w> </span><span class=l>test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>file</span><span class=p>:</span><span class=w> </span><span class=l>task-make.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>vars</span><span class=p>:</span><span class=w> </span>{<span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=l>test}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>params</span><span class=p>:</span><span class=w> </span>{<span class=nt>VERBOSE</span><span class=p>:</span><span class=w> </span><span class=kc>true</span>}<span class=w>
</span></span></span></code></pre></div><p>One killer feature of Concourse - <em>you can override task inputs using artefacts local to your own machine</em>. Why would you do that? You can execute a task and see if it works <em>before you <code>git push</code> .</em> A friend of EngineerBetter <a href=https://medium.com/@andrew_merrell/concourses-fly-execute-is-a-hidden-gem-5f4b54ffb249>described this as a &ldquo;hidden gem&rdquo;</a>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>fly execute --config task.yaml --input<span class=o>=</span>iac-example-concourse<span class=o>=</span>.
</span></span></code></pre></div><p> </p><h3 id=tekton---great>Tekton - <em>Great</em></h3><p>Tekton Hub is a repository of re-usable Tekton tasks - we used one in the previous blog post to clone a Git repository.</p><p>Tekton Hub was delightfully simple to use to install the git-clone task, and it&rsquo;s great that there&rsquo;s a hosted community place to publish your own tasks and discover others.</p><p>Unlike with Concourse where we had to search the web to find custom resource types, we found re-usable Tekton tasks by browsing the hub. Although we didn&rsquo;t use this feature, the hub can also share pipelines - I could imagine this being a fantastic way to share CI configuration to open source contributors for your projects.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tkn --namespace tekton-pipelines hub install git-clone
</span></span></code></pre></div><p> </p><h3 id=argo-workflows---mediocre>Argo Workflows - <em>Mediocre</em></h3><p>Argo Workflows template and workflow reusability is basically the same as Tekton, but you don&rsquo;t get the hub - which is disappointing.</p><p>Argo Workflows templates and workflows are just YAML files so sharing them is trivial - if you know where to find them. Without a central repository of these like Tekton Hub or a clear abstraction like Concourse&rsquo;s resource types - you&rsquo;re essentially left to copy and paste pre-written templates from Stack Overflow or other similar places.</p><p> </p><h3 id=summary>Summary</h3><ul><li>Argo Workflows offers nothing that assists in code re-use other than finding and copying YAML from the internet.</li><li>Jenkins has a rich ecosystem of plugins available but installation of them feels a little old-fashioned. There are no guarantees that each plugin will work for different flavours of pipeline syntax, plugins need to be updated, and they may not work well together.</li><li>Concourse has a wide range of resource types available that are easy to use, but discoverability of them is lacking.</li><li>Tekton ships with marketplace integration to the Hub build in to the CLI and installation is seamless.</li></ul><p> </p><h2 id=7-using-the-ci-system-as-a-build-monitor>7. Using the CI system as a build monitor</h2><p>Build monitors are enormously useful to continuously present information about changes being made. They should be &lsquo;in your face&rsquo;, making it very difficult to ignore problems, and therefore they should allow teams to &lsquo;stop the line&rsquo;.</p><p>Builds that are left in a failed state can block future work, and the longer the issue goes unnoticed the more context is lost before someone stumbles across the problem and is tasked with fixing it.</p><p>In this section we evaluate whether the UIs provided out of the box are appropriate as build monitors and if not, how much work is involved to use them as one.</p><h3 id=jenkins---good-1>Jenkins - <em>Good</em></h3><p>Most of the value you can get from using Jenkins as a build monitor comes from plugins rather than Jenkins itself. With a vanilla Jenkins you can see your <em>jobs</em> represented compactly with a colour indicating their current state, but without additional plugins there is no pipeline view.</p><p>One feature of this view I enjoyed is that Jenkins renders a progress bar once you click into a pipeline&rsquo;s build history to give you a rough estimate of when you can expect a pipeline run to finish - it&rsquo;s the only CI system we looked at here that maintains an inter-execution level awareness of performance.</p><p>The build logs for jobs are difficult to read. The entire output of the build is placed into a single stream of text in the Console Output and it&rsquo;s difficult to reason about which stages are causing issues at a glance.</p><p>Things got better once we installed <a href=https://www.jenkins.io/projects/blueocean/>Blue Ocean</a>. It renders your jobs as a pipeline, making it clear which order they are executed in, and which things are run in parallel.</p><p>There are two downsides to using Blue Ocean as a build monitor. Firstly, you&rsquo;ll only get the view above if you click into a specific run of the pipeline, otherwise you get a view that is essentially a re-skin of the default Jenkins pipeline list. Secondly, Blue Ocean is reportedly difficult to maintain and there&rsquo;s low appetite to continue doing so when there are alternatives appearing such as the <a href=https://github.com/jenkinsci/pipeline-graph-view-plugin>Pipeline Graph View Plugin</a>.</p><h3 id=concourse---great>Concourse - <em>Great</em></h3><p>Concourse ships with a UI that is used to visualise flows of inputs and outputs through pipelines. It presents aggregate views of pipelines that give you information on which has failing jobs, and more detailed views of individual pipelines that give an indication of what jobs are running right now.</p><p>Software delivery teams with a single path to production would benefit most by displaying the individual pipeline on their build monitors. The view shows jobs, inputs, outputs and what-triggers-what with colours and animations indicating the current state of each job.</p><p>The aggregate view of the pipeline is suitable for folks that maintain many pipelines and shows a general indication of the health of each.</p><p>The Concourse UI both looks great and is genuinely useful for at-a-glance indications of what&rsquo;s happening in CI right now. Jobs and tasks can be clicked into to see logs and a description of which inputs each job was triggered with. It&rsquo;s great at answering the question &ldquo;which things were used to build this artefact?&rdquo;.</p><p>Concourse was designed for integration, which means that it lends itself to representing entire value streams. This can be beneficial as a &lsquo;reverse Conway maneuvre&rsquo; to force collaboration and shared ownership among teams - <a href=/blog/continuous-everything-regulated>something EngineerBetter has done to great effect</a>.</p><h3 id=tekton---great-1>Tekton - <em>Great</em></h3><p>In an earlier post we mentioned that we&rsquo;d installed Tekton with <code>tekton-dashboard</code> included. The dashboard provides us with a fairly thin UI over what can be achieved via the <code>kubectl</code> or <code>tkn</code> CLIs, but it has some use as a build monitor.</p><p>In the dashboard you can view any Tekton related resources you&rsquo;ve created such as Tasks or Pipelines. Below we show the tasks we&rsquo;ve created for an earlier code snippet which includes one task we installed from the hub, git-clone.</p><p>Displaying the PipelineRuns on a build monitor would provide an overview of the most recently executed pipelines and their status (passed or failed).</p><p>For teams interested in a single pipeline, there&rsquo;s no way to watch runs of that pipeline without clicking into each individual run, which is the same limitation we saw in Jenkins.</p><p>Unlike Concourse each PipelineRun&rsquo;s definition is a moment-in-time snapshot of a Pipeline which makes it great for auditing &ldquo;what was the Pipeline definition when this ran?&rdquo; It is possible to piece together that information with Concourse, but it is not represented in a single UI view.</p><p>Finally, by clicking into a PipelineRun we were able to see the stages involved in that run and their status and logs.</p><h3 id=argo-workflows---great>Argo Workflows - <em>Great</em></h3><p>Argo Workflows&rsquo; default installation includes a UI that is functionally similar to Tekton&rsquo;s.</p><p>In the workflows view we can see a list of recently executed workflows and each of these can be clicked through to the details for that workflow execution.</p><p>Unlike Tekton, Argo renders the structure of the DAG we&rsquo;d previously defined, clearly showing which templates depend on which. Clicking on individual templates in this view we can see more details related to the execution of that template, such as build logs.</p><p>As with Tekton, there is no way to keep watching individual pipeline runs without clicking into a specific run first. Teams that work with a single workflow will have to be content with the list view shown at the beginning of this section.</p><h3 id=summary-1>Summary</h3><p>In terms of presentation of the CI system as a build monitor - all four options performed well <em>within their limitations and design philosophies.</em></p><p>Concourse does not track &lsquo;pipeline runs&rsquo; as a concept, and so the <em>one</em> view of a pipeline is what&rsquo;s happening <em>right now</em>. There&rsquo;s no need to flip between views of different runs, making this view very suitable as a build monitor.</p><p>Jenkins, Tekton and Argo Workflows present one view per pipeline run, meaning that if you want to see the current build state of a project, the best place to do so is on the page that lists these runs. This has the downside of not being able to see the detail of each run without further clicking, but with the benefit of being able to discover exactly what the pipeline looked like for each run.</p><h2 id=scorecard>Scorecard</h2><p> </p><h2 id=next-time>Next time</h2><p>Wait, wasn&rsquo;t this supposed to be a three-part series?</p><p>We&rsquo;ve learned a lot about each CI system, and how their different design philosophies lend them to different uses and ways of working.</p><p>In the fourth and final (we mean it this time) post we&rsquo;ll reflect on how the four compare, and which CI system is the best choice in varying scenarios.</p></div><div class="blog-page_banner clearfix"><div class=blog_banner-text><h2>Get in touch</h2><p>See how much we can help you.<br>Call <span>+44 (0) 20 7846 0140</span> or</br></p><a href=mailto:contact@engineerbetter.com class=cloud-btn2><p>Contact us <span>&#xe900;</span></p></a></div></div></section><footer><div class=footer-background></div><div class="footer_wrap clearfix"><div class=footer_column-list-desktop><ul class=list><li><a href=/how-we-work/><span>&mdash;</span> How we work</a></li><li><a href=/our-services/><span>&mdash;</span> Our services</a></li><li><a href=/success-stories/><span>&mdash;</span> Success stories</a></li><li><a href=/why-cloud-native/><span>&mdash;</span> Why Cloud-Native?</a></li><li><a href=/about-us/><span>&mdash;</span> About us</a></li></ul></div><div class=footer_column-list><ul class=list><li><a href=mailto:contact@engineerbetter.com><span>&mdash;</span> Contact us</a></li><li><a href=/blog/><span>&mdash;</span> Blog</a></li><li><a href=/join-our-team/><span>&mdash;</span> Join our team</a></li><li><a href=//www.iubenda.com/privacy-policy/8251825 class="iubenda-nostyle no-brand iubenda-embed" title="Privacy Policy"><span>&mdash;</span> Privacy Policy</a><script type=text/javascript>(function(e,t){var n=function(){var e=t.createElement("script"),n=t.getElementsByTagName("script")[0];e.src="//cdn.iubenda.com/iubenda.js",n.parentNode.insertBefore(e,n)};e.addEventListener?e.addEventListener("load",n,!1):e.attachEvent?e.attachEvent("onload",n):e.onload=n})(window,document)</script></li></ul></div><div class=footer_column-icon-wrap><a href=https://twitter.com/EngineerBetter class=footer_column-icon><img class=footer_column-icon-img alt=Brand src=/img/icon-twitter.png></a>
<a href=https://github.com/EngineerBetter class=footer_column-icon><img class=footer_column-icon-img alt=Brand src=/img/icon-git-hub.png></a></div><div class=footer_column-text><p>&copy; Copyright EngineerBetter Ltd</p><p>Registered England & Wales 10141478</p></div></div></footer><script src="/js/jquery-1.11.3.min.js?v=4"></script>
<script src=/js/site.js></script></body></html>