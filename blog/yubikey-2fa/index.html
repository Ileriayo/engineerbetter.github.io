<!doctype html><html lang=pl><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><title>Yubikeys for Two-Factor Auth | EngineerBetter | More than Cloud Platform specialists</title><link rel=stylesheet href="/css/main.css?v=4"><link rel=stylesheet href=/css/syntax.css><link rel=icon type=image/png href=/img/favicon.png><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-74442484-1","auto"),ga("send","pageview")</script><script src=//load.sumome.com/ data-sumo-site-id=7c63408cd1c29faa63d20123ff629d524df6674695e4305a0e602f2bbf431038 async></script>
<script type=text/javascript>var _iub=_iub||[];_iub.csConfiguration={banner:{textColor:"#dadada",backgroundColor:"#5A5A5A"},lang:"en",siteId:939573,cookiePolicyId:8251825}</script><script type=text/javascript src=//cdn.iubenda.com/cookie_solution/safemode/iubenda_cs.js async></script></head><body><section id=menu-nav-top class="menu fixed-menu clearfix"><div class=menu_contact><p class=menu_contact-number>+44 (0) 20 7846 0140</p><a href=mailto:contact@engineerbetter.com class=menu_contact-us>Contact us</a></div><div class="menu_header clearfix"><button class=menu_header-button>
<span class="icon-bar top-bar"></span>
<span class="icon-bar middle-bar"></span>
<span class="icon-bar bottom-bar"></span></button>
<a href=/ class=menu_header-logo><img class=logo-header-img alt=Brand src=/img/engineer-better-logo.svg></a></div></section><div class=menu_list><button class=menu_list-close><p>&#x2716;</p></button><div class=menu_list-inner-wrap><p class=menu_list-phone>+44 (0) 20 7846 0140</p><a class=menu_list-contact-btn href=mailto:contact@engineerbetter.com>Contact us&nbsp;<span>&#xe900;</span></a><ul class=menu_list-links><li><a href=/how-we-work/>How we work</a></li><li><a href=/our-services/>Our services</a></li><li><a href=/success-stories/>Success stories</a></li><li><a href=/why-cloud-native/>why cloud-native?</a></li><li><a href=/about-us/>About us</a></li><li><a href=/blog/>Blog</a></li></ul><div class=menu_list-icons><a href=https://twitter.com/EngineerBetter><img src=/img/twitter.svg alt="Twitter profile"></a>
<a href=https://github.com/EngineerBetter><img src=/img/github.svg alt="Github profile"></a></div><div class=menu_list-bot-menu><a href=/blog/>Blog</a><span>|</span><a href=/join-our-team/>Careers</a><span>|</span><a href=//www.iubenda.com/privacy-policy/8251825 class="iubenda-nostyle no-brand iubenda-embed" title="Privacy Policy">Privacy</a><script type=text/javascript>(function(e,t){var n=function(){var e=t.createElement("script"),n=t.getElementsByTagName("script")[0];e.src="//cdn.iubenda.com/iubenda.js",n.parentNode.insertBefore(e,n)};e.addEventListener?e.addEventListener("load",n,!1):e.attachEvent?e.attachEvent("onload",n):e.onload=n})(window,document)</script></div></div></div><section class="menu-banner-top_wrap parallax is-page"><div class=menu-banner-top><div class=menu-banner-top_contact><a class=menu-banner-top_number href="tel:+44 (0) 20 7846 0140">+44 (0) 20 7846 0140</a>
<a class=menu-banner-top_contact-us href=mailto:contact@engineerbetter.com>Contact us</a></div><div class=menu-banner-top_btn-wrap><button class=menu_header-button>
<span class="icon-bar top-bar"></span>
<span class="icon-bar middle-bar"></span>
<span class="icon-bar bottom-bar"></span></button></div><div class="menu-banner-top_logo clearfix"><a href=/ class=home-banner_logo-img><img class=logo-img alt=Brand src=/img/engineer-better-logo.svg></a></div></div><div class=home-banner><div class="home-banner_list clearfix"><div class=home-banner_list-category><ul><li><a href=ileri.com/how-we-work/>How we work</a></li><li><a href=ileri.com/our-services/>Our services</a></li><li><a href=ileri.com/success-stories/>Success Stories</a></li><li><a href=ileri.com/why-cloud-native/>Why Cloud-Native?</a></li><li><a href=ileri.com/about-us/>About us</a></li><li><a href=ileri.com/blog/>Blog</a></li></ul></div><div class=home-banner_textarea><h1 class=home-banner_textarea-header>Our <strong>blog&nbsp;<span>&#xe900;</span></strong></h1><div class=home-banner_textarea-wrap><p class=home-banner_textarea-description>Get the very latest updates about recent projects, team updates, thoughts and industry news from our team of EngineerBetter experts.</p></div></div></div></div></section><section class=blog-page><div class=blog-page_container><h1>Yubikeys for Two-Factor Auth</h1><p class=blog-page_details>Dec 5, 2017<span>|</span> Paddy Steed</p><div class=blog-page_image><img src=/img/blog/yubikey-with-keys.png></div><p>If you&rsquo;re amassing a plethora of user accounts that require two-factor authentication (2FA) and let&rsquo;s face it, you <em>should</em>, then you&rsquo;ll be pleased to learn how you can use a USB Yubikey to avoid having to type in as many one-time-passwords (OTPs).</p><h2 id=two-factor-authentication-with-one-time-passwords>Two-Factor Authentication with One-Time Passwords</h2><p>Traditional OTPs protect against password reuse, weak passwords and credential leakage.</p><p>A user&rsquo;s login procedure using a traditional OTP is usually something like this:</p><ol><li>Navigate to example.com</li><li>Enter username and password</li><li>Receive prompt for OTP</li><li>Read short numeric code from OTP generator</li><li>Type OTP into web page</li></ol><p>Enabling 2FA on your online accounts is a huge improvement on using static passwords alone. However, it makes the most common form of account compromise only marginally more difficult.</p><h3 id=otp-and-phishing>OTP and phishing</h3><p>According to <a href=https://security.googleblog.com/2017/11/new-research-understanding-root-cause.html>research</a> by Google, phishing is by far the most common way for an online account to be compromised.
Phishing attacks were responsible for <a href=http://edition.cnn.com/2017/06/27/politics/russia-dnc-hacking-csr/index.html>John Podesta&rsquo;s</a> email getting hacked. They were responsible for <a href=https://www.apnews.com/dea73efc01594839957c3c9a6c962b8a>Hillary Clinton&rsquo;s</a> campaign emails being hacked.
Even if you are a Republican you are still not safe, as <a href=https://www.wired.com/2008/09/group-posts-e-m/>Sarah Palin&rsquo;s</a> email account was hacked via a phishing attack.</p><p>Despite what the victims will tell you, these attacks are not sophisticated and they don&rsquo;t require &ldquo;state sponsorship&rdquo;.
The industry standard advice seems to be to train staff to recognise phishing attacks.
This is expensive and companies that do this still get phished.</p><p>If the user is tricked into entering their login details on a phishing site then OTP 2FA does no good.
They will have given their password and OTP to the phishing site, which can then forward that on to the real site and impersonate the user.
The only frustration OTPs provide to an attacker attempting this is they have a short window to forward those credentials before the OTP is expired.
In practice this is not an issue as the easiest way of phishing a site is setting up a reverse proxy to it, in which case the credentials are forwarded in real time.</p><h2 id=the-u2f-alternative>The U2F alternative</h2><p>The FIDO Universal 2nd Factor (U2F) standard for simplifying 2FA uses hardware devices that eliminates the possibility of phishing, with no user training required.</p><p>When using a certified U2F device, a user&rsquo;s experience goes like this:</p><ol><li>Navigate to example.com</li><li>Enter username and password</li><li>Touch U2F device</li></ol><p>A lot happens when that device is pressed.
The U2F device signs a message containing a random string from the server, the server&rsquo;s address from the browser&rsquo;s perspective, and some other things.
The browser then forwards that signature to the server.</p><p>Your Yubikey is also a <a href=https://www.yubico.com/solutions/fido-u2f/>U2F</a> device.
An increasing number of sites support <a href=https://www.yubico.com/solutions/fido-u2f/>U2F</a>.
This is the most user-friendly way to use a Yubikey as your 2FA device.
The latest versions of Chrome, Opera and Firefox support <a href=https://www.yubico.com/solutions/fido-u2f/>U2F</a>. However, in Firefox it is not enabled by default, and you must enable the following options in the <a href=about:config>about:config</a> page:</p><ul><li><code>security.webauth.u2f</code></li><li><code>security.webauth.webauthn</code></li></ul><p><a href=https://help.github.com/articles/configuring-two-factor-authentication-via-fido-u2f/>GitHub</a>, <a href=https://docs.gitlab.com/ce/user/profile/account/two_factor_authentication.html#enable-2fa-via-u2f-device>Gitlab</a>, <a href=https://cloud.google.com/solutions/securing-gcp-account-security-keys>Google Cloud Platform</a> and <a href=https://aws.amazon.com/>Amazon Web Services</a> all support <a href=https://www.yubico.com/solutions/fido-u2f/>U2F</a> as a 2FA option.</p><h2 id=configuring-github-for-u2f>Configuring GitHub for U2F</h2><p>Setting up GitHub to recognise your Yubikey is really simple:</p><ol><li>Go to <a href=https://github.com/settings/two_factor_authentication/configure>GitHub&rsquo;s two-factor authentication settings</a></li><li>Scroll down to <em>Security Keys</em></li><li>Click <em>Register new device</em>, give your key a nickname, and click <em>Add</em></li><li>When prompted, press the button on your Yubikey</li><li>You&rsquo;re done!</li></ol><h2 id=configuring-aws-for-u2f>Configuring AWS for U2F</h2><ol><li>Go to <a href=https://console.aws.amazon.com/iam/home#/security_credentials>AWS&rsquo; My Security Credentials settings</a></li><li>Scroll to <em>Multi-factor authentication (MFA)</em></li><li>Click <em>Assign MFA device</em></li><li>Select <em>U2F security key</em> and click <em>Continue</em></li><li>When prompted, press the button on your Yubikey</li><li>You&rsquo;re done!</li></ol><h2 id=why-u2f>Why U2F?</h2><p>Google performed a two-year <a href=https://research.google.com/pubs/pub45409.html>study</a> on U2F devices, which are widely deployed within Google. They found that, compared with an app-based OTP like Google Authenticator, users authenticated faster using a U2F device. U2F devices were inherently less susceptible to MitM attacks, and users raised support tickets for authentication problems far less frequently.</p><p>An increasing number of sites support <a href=https://www.yubico.com/solutions/fido-u2f/>U2F</a>. It is more secure, and users are able to authenticate faster compared with any other 2FA method.</p><table><thead><tr><th>Attack</th><th>Google Authenticator</th><th>Hardware OTP Generator</th><th>U2F</th></tr></thead><tbody><tr><td>Weak/stolen password</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td>Phishing</td><td>✗</td><td>✗</td><td>✔</td></tr><tr><td>TLS MitM</td><td>✗</td><td>✗</td><td>?</td></tr></tbody></table></div><div class="blog-page_banner clearfix"><div class=blog_banner-text><h2>Get in touch</h2><p>See how much we can help you.<br>Call <span>+44 (0) 20 7846 0140</span> or</br></p><a href=mailto:contact@engineerbetter.com class=cloud-btn2><p>Contact us <span>&#xe900;</span></p></a></div></div></section><footer><div class=footer-background></div><div class="footer_wrap clearfix"><div class=footer_column-list-desktop><ul class=list><li><a href=/how-we-work/><span>&mdash;</span> How we work</a></li><li><a href=/our-services/><span>&mdash;</span> Our services</a></li><li><a href=/success-stories/><span>&mdash;</span> Success stories</a></li><li><a href=/why-cloud-native/><span>&mdash;</span> Why Cloud-Native?</a></li><li><a href=/about-us/><span>&mdash;</span> About us</a></li></ul></div><div class=footer_column-list><ul class=list><li><a href=mailto:contact@engineerbetter.com><span>&mdash;</span> Contact us</a></li><li><a href=/blog/><span>&mdash;</span> Blog</a></li><li><a href=/join-our-team/><span>&mdash;</span> Join our team</a></li><li><a href=//www.iubenda.com/privacy-policy/8251825 class="iubenda-nostyle no-brand iubenda-embed" title="Privacy Policy"><span>&mdash;</span> Privacy Policy</a><script type=text/javascript>(function(e,t){var n=function(){var e=t.createElement("script"),n=t.getElementsByTagName("script")[0];e.src="//cdn.iubenda.com/iubenda.js",n.parentNode.insertBefore(e,n)};e.addEventListener?e.addEventListener("load",n,!1):e.attachEvent?e.attachEvent("onload",n):e.onload=n})(window,document)</script></li></ul></div><div class=footer_column-icon-wrap><a href=https://twitter.com/EngineerBetter class=footer_column-icon><img class=footer_column-icon-img alt=Brand src=/img/icon-twitter.png></a>
<a href=https://github.com/EngineerBetter class=footer_column-icon><img class=footer_column-icon-img alt=Brand src=/img/icon-git-hub.png></a></div><div class=footer_column-text><p>&copy; Copyright EngineerBetter Ltd</p><p>Registered England & Wales 10141478</p></div></div></footer><script src="/js/jquery-1.11.3.min.js?v=4"></script>
<script src=/js/site.js></script></body></html>